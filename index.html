<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CTGpre 1.1</title>
<style>
*{box-sizing:border-box;}
body{margin:0;height:100vh;background:black;overflow:hidden;font-family:Arial,sans-serif;color:white;display:flex;justify-content:center;align-items:center;user-select:none;position:relative;transition:background 2s ease;}
#overlay{position:fixed;inset:0;background:black;z-index:50;display:flex;justify-content:center;align-items:center;cursor:pointer;}
#intro{position:fixed;inset:0;z-index:40;}
.orb{position:absolute;width:120px;height:120px;border-radius:50%;background:rgba(0,140,255,0.7);filter:blur(35px);transition:all 3s ease;pointer-events:none;}
.spinGroup .orb{animation:spin 2s linear infinite;}
@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}
.explode{transition:all 3s ease;opacity:0;transform:scale(0.1);}
#introText{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;text-align:center;font-size:1.4em;opacity:0;transition:opacity 1.5s;z-index:45;pointer-events:none;}
#newsPage{display:none;position:fixed;inset:0;background:#111a33dd;color:white;z-index:1002;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:20px;font-size:1.2em;}
#game{display:none;flex-direction:column;align-items:center;gap:16px;z-index:10;}
#cookie{font-size:9em;cursor:pointer;animation:cookieSpin 6s linear infinite;position:relative;}
#cookie.bounce{animation:cookieSpin 6s linear infinite,bounce 0.25s ease;}
@keyframes cookieSpin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}
@keyframes bounce{0%{transform:scale(1);}50%{transform:scale(1.35);}100%{transform:scale(1);}}
#stats{text-align:center;font-size:1.2em;}
#buttons{display:flex;flex-direction:column;gap:8px;}
button{padding:10px 18px;font-size:1em;cursor:pointer;position:relative;transition:transform 0.1s;}
button:active{transform:scale(0.95);}
.clickSpot{position:fixed;width:50px;height:50px;background:white;border-radius:50%;opacity:0.8;pointer-events:none;transform:translate(-50%,-50%);animation:fadeSpot 0.5s forwards;z-index:1000;}
@keyframes fadeSpot{0%{opacity:0.8;transform:translate(-50%,-50%) scale(1);}100%{opacity:0;transform:translate(-50%,-50%) scale(2);}}
.floatingText{position:fixed;color:#fff;font-weight:bold;pointer-events:none;animation:floatUp 1s forwards;font-size:1.2em;z-index:1001;text-shadow:0 0 4px #00cfff;}
@keyframes floatUp{0%{opacity:1;transform:translate(-50%,-50%) translateY(0);}100%{opacity:0;transform:translate(-50%,-50%) translateY(-50px);}}
#achievementsPanel{display:none;position:fixed;top:10px;right:10px;background:#111a33cc;color:white;padding:10px;z-index:2000;max-height:90%;overflow:auto;}
#endMessage{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;text-align:center;font-size:2em;color:white;background:black;opacity:0;z-index:99999;pointer-events:none;transition:opacity 3s;}
</style>
</head>
<body>
<div id="overlay">Interact to enable sounds (required)</div>
<div id="intro"></div>
<div id="introText">We are back. Thank you for your patience.<br>‚Äî canvayys</div>

<div id="newsPage">
<h2>CTGPre News</h2>
<p>Welcome back! Here's what's new:</p>
<ul>
<li>We are now out of Beta.</li>
<li>It means the game is getting ready to release.</li>
<li>Keep in mind that some stuff might be still buggy.</li>
</ul>
<button id="closeNews">Close</button>
</div>

<div id="game">
<div id="cookie">üç™</div>
<div id="stats">
Cookies: <span id="cookies">0</span><br>
Click Power: <span id="clickPower">1</span><br>
Multiplier: x<span id="multiplier">1</span><br>
Auto/sec: <span id="auto">0</span>
</div>
<div id="buttons">
<button id="buyClick">Buy x2 Click (50)</button>
<button id="buyAuto">Buy Auto Cookie +1/sec (200)</button>
<button id="buyMult">Buy x2 Multiplier (500)</button>
<button id="mute">Mute/Unmute Music</button>
<button id="achievementsBtn">View Achievements</button>
<button id="reset">Reset Progress</button>
</div>
</div>

<div id="achievementsPanel"></div>
<div id="endMessage">Thanks for playing C00K13 CL1CK3R -canvayys</div>

<audio id="bgm" src="backgroundmusic.mp3" loop></audio>
<audio id="login" src="login.mp3"></audio>
<audio id="clickSfx" src="click.mp3"></audio>

<script>
let cookies=0, clickPower=1, multiplier=1, autoCookies=0, prices={click:50,auto:200,mult:500}, achievements={};
const overlay=document.getElementById("overlay");
const intro=document.getElementById("intro");
const introText=document.getElementById("introText");
const game=document.getElementById("game");
const cookie=document.getElementById("cookie");
const bgm=document.getElementById("bgm");
const clickSfx=document.getElementById("clickSfx");
const newsPage=document.getElementById("newsPage");
const closeNews=document.getElementById("closeNews");
const achPanel=document.getElementById("achievementsPanel");
const endMessage=document.getElementById("endMessage");
const ui={cookies:document.getElementById("cookies"),clickPower:document.getElementById("clickPower"),multiplier:document.getElementById("multiplier"),auto:document.getElementById("auto")};

function formatNumber(n){const u=[{v:1e3,s:"K"},{v:1e6,s:"M"},{v:1e9,s:"B"},{v:1e12,s:"T"},{v:1e15,s:"Qa"},{v:1e18,s:"Qi"},{v:1e21,s:"S"},{v:1e24,s:"Sp"},{v:1e27,s:"Oc"},{v:1e30,s:"No"}];for(let i=u.length-1;i>=0;i--){if(n>=u[i].v){return(n/u[i].v).toFixed(2).replace(/\.00$/,'')+u[i].s;}}return n.toString();}
function updateUI(){ui.cookies.textContent=formatNumber(cookies);ui.clickPower.textContent=formatNumber(clickPower);ui.multiplier.textContent=formatNumber(multiplier);ui.auto.textContent=formatNumber(autoCookies);document.getElementById("buyClick").textContent=`Buy x2 Click (${formatNumber(prices.click)})`;document.getElementById("buyAuto").textContent=`Buy Auto Cookie +1/sec (${formatNumber(prices.auto)})`;document.getElementById("buyMult").textContent=`Buy x2 Multiplier (${formatNumber(prices.mult)})`;}
function save(){localStorage.setItem("ctg_save",JSON.stringify({cookies,clickPower,multiplier,autoCookies,prices,achievements}));}
function load(){const d=JSON.parse(localStorage.getItem("ctg_save"));if(!d)return;cookies=d.cookies||0;clickPower=d.clickPower||1;multiplier=d.multiplier||1;autoCookies=d.autoCookies||0;prices=d.prices||{click:50,auto:200,mult:500};achievements=d.achievements||{};updateUI();}
function createClickSpot(x,y){const s=document.createElement("div");s.className="clickSpot";s.style.left=x+"px";s.style.top=y+"px";document.body.appendChild(s);clickSfx.currentTime=0;clickSfx.play().catch(()=>{});setTimeout(()=>s.remove(),500);}
function createFloatingText(x,y,v){if(v<=0)return;const f=document.createElement("div");f.className="floatingText";f.style.left=x+"px";f.style.top=y+"px";f.textContent="+"+v;document.body.appendChild(f);setTimeout(()=>f.remove(),1000);}
function addAchievement(n){if(!achievements[n]){achievements[n]=true;alert("Achievement unlocked: "+n);save();}}
function handleCookieClick(e){let v=clickPower*multiplier;cookies+=v;createFloatingText(e.clientX,e.clientY,v);if(cookies>=1e6)addAchievement("Million Cookies");updateUI();save();checkEnd();}
function checkEnd(){if(cookies>=1e33){bgm.pause();document.body.style.background="black";endMessage.style.opacity=1;setTimeout(()=>{localStorage.removeItem("ctg_save");location.reload();},5000);}}

overlay.onclick=()=>{
overlay.remove();
const cx=window.innerWidth/2,cy=window.innerHeight/2;
const oc=document.createElement("div");oc.className="spinGroup";intro.appendChild(oc);
const orbs=[];for(let i=0;i<6;i++){const o=document.createElement("div");o.className="orb";o.style.left=Math.random()*window.innerWidth+"px";o.style.top=Math.random()*window.innerHeight+"px";oc.appendChild(o);orbs.push(o);}
setTimeout(()=>{orbs.forEach(o=>{o.style.left=cx+"px";o.style.top=cy+"px";})},2000);
setTimeout(()=>{clickSfx.play();introText.style.opacity=1;orbs.forEach(o=>{o.style.left=cx+(Math.random()-0.5)*600+"px";o.style.top=cy+(Math.random()-0.5)*400+"px";o.classList.add("explode");})},5000);
setTimeout(()=>{introText.style.opacity=0;intro.remove();document.body.style.background="linear-gradient(120deg,#1a1a1a,#0a0a0a,#111a33)";bgm.volume=0.6;bgm.play().catch(()=>{});newsPage.style.display="flex";load();updateUI();game.style.display="flex";},9000);
};

cookie.onclick=(e)=>{handleCookieClick(e);cookie.classList.add("bounce");setTimeout(()=>cookie.classList.remove("bounce"),250);}
document.getElementById("buyClick").onclick=()=>{if(cookies<prices.click)return;cookies-=prices.click;clickPower*=2;prices.click*=2;updateUI();save();}
document.getElementById("buyAuto").onclick=()=>{if(cookies<prices.auto)return;cookies-=prices.auto;autoCookies++;prices.auto*=2;updateUI();save();}
document.getElementById("buyMult").onclick=()=>{if(cookies<prices.mult)return;cookies-=prices.mult;multiplier*=2;prices.mult*=2;updateUI();save();}
document.getElementById("mute").onclick=()=>{bgm.muted=!bgm.muted;}
document.getElementById("achievementsBtn").onclick=()=>{achPanel.style.display=achPanel.style.display==="flex"?"none":"flex"; achPanel.innerHTML="<h3>Achievements</h3>"+Object.keys(achievements).map(a=>"<p>"+a+"</p>").join("");}
document.getElementById("reset").onclick=()=>{if(!confirm("Reset ALL progress?"))return;localStorage.removeItem("ctg_save");location.reload();}
closeNews.onclick=()=>{newsPage.style.display="none";}
document.body.addEventListener("click",(e)=>{createClickSpot(e.clientX,e.clientY);});
setInterval(()=>{cookies+=autoCookies*multiplier;updateUI();save();checkEnd();},1000);
</script>
</body>
</html>
